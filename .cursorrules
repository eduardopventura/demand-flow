# Cursor Rules - Gestor de Demandas

## Regras Gerais

### Build e Execução
- NUNCA execute comandos de build (`npm run build`, `bun run build`, `vite build`, etc.)
- Builds são gerenciados pelo pipeline de CI/CD, não pelo desenvolvedor local
- NUNCA execute `npm install` ou `bun install` localmente - as dependências são instaladas dentro do container Docker

### Como Subir o Projeto (Docker)
- Sempre use Docker para rodar o projeto
- Comando para subir: `docker-compose up -d --build`
- NÃO é necessário instalar Node.js ou npm localmente
- Acesso: http://localhost:3060 (frontend) e http://localhost:3000 (backend)

### Comandos Docker Úteis
```bash
# Subir projeto
docker-compose up -d --build

# Ver logs
docker-compose logs -f

# Parar projeto
docker-compose down

# Reiniciar
docker-compose restart

# Rebuild completo
docker-compose down && docker-compose up -d --build
```

### Arquitetura de Rede Docker
- Frontend e Backend se comunicam via hostname Docker "backend"
- Frontend usa "/api" que é redirecionado via proxy (Nginx)
- NÃO hardcode IPs - use sempre os hostnames Docker

### Documentação
- **TODOS** os arquivos de documentação devem estar na pasta `docs/`
- O `README.md` na raiz deve ser apenas um resumo executivo
- Se necessário criar novos documentos, organize em subpastas dentro de `docs/` se fizer sentido
- Mantenha a documentação atualizada com as mudanças de código

### Código e Estilo
- Use TypeScript para todos os arquivos de código
- Siga as convenções de estilo do projeto (Tailwind CSS, shadcn/ui)
- Mantenha a responsividade mobile-first em novos componentes
- Use variáveis CSS do design system definidas em index.css

### Estrutura de Código (Frontend)
- Componentes devem estar em `frontend/src/components/`
- Páginas devem estar em `frontend/src/pages/`
- Hooks customizados em `frontend/src/hooks/`
- Tipos TypeScript em `frontend/src/types/`
- Utilitários em `frontend/src/utils/`
- Modais ficam em `frontend/src/components/modals/`
- Componentes UI base (shadcn) em `frontend/src/components/ui/`

### Estrutura de Código (Backend)
- Servidor Express em `backend/server.js`
- Dados JSON em `backend/data/`

### Padrões Visuais de Modais (Dialog/AlertDialog)
Os componentes Dialog e AlertDialog seguem uma estrutura de layout específica:

**Estrutura Base (dialog.tsx / alert-dialog.tsx)**:
- `DialogContent`: padding zero (`p-0`), gap zero (`gap-0`), sombra forte (`shadow-xl`)
- `DialogHeader`: padding interno (`px-6 py-4`), borda inferior (`border-b`), fundo sutil (`bg-muted/30`)
- `DialogFooter`: padding interno (`px-6 py-4`), borda superior (`border-t`), fundo sutil (`bg-muted/30`)

**Corpo da Modal (entre Header e Footer)**:
- Sempre envolva o conteúdo em `<div className="flex-1 overflow-y-auto px-6 py-4">` para scroll interno
- Use `flex flex-col` no `DialogContent` e `max-h-[90vh]` para limitar altura

**Organização do Conteúdo**:
- Agrupe seções relacionadas em cards: `<div className="p-4 rounded-lg border bg-card space-y-4">`
- Use títulos de seção: `<h3 className="text-sm font-medium text-muted-foreground uppercase tracking-wide">`
- Elementos informativos/metadados: fundo sutil (`bg-muted/30`, `bg-muted/20`) com `border-dashed`
- Tarefas concluídas: indicador visual com `bg-green-500/5 border-green-500/30`

**Seleção de Abas/Tags em Formulários**:
- Use chips/badges ao invés de botões para evitar hover confuso
- Estilo: `rounded-full border transition-colors` sem hover forte
- Estado ativo: `bg-primary text-primary-foreground border-primary`
- Estado inativo: `bg-background text-muted-foreground border-border`

**AlertDialog sem AlertDialogDescription**:
- Coloque texto descritivo em `<div className="px-6 py-4">` separado do header
- Use `<p className="text-sm text-muted-foreground">` para o texto

### Padrões de Responsividade
- Mobile: < 640px (default)
- Tablet: sm: >= 640px
- Desktop: md: >= 768px, lg: >= 1024px
- Use classes responsivas do Tailwind (sm:, md:, lg:)

### Commits e Versionamento
- Não gere arquivos de build ou dist
- Não commite node_modules ou arquivos temporários
- Não commite arquivos .env com credenciais
