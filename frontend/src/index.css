@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 210 25% 98%;
    --foreground: 220 15% 20%;

    --card: 0 0% 100%;
    --card-foreground: 220 15% 20%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 20%;

    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 20% 94%;
    --secondary-foreground: 220 15% 20%;

    --muted: 210 20% 96%;
    --muted-foreground: 220 10% 50%;

    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 45 93% 47%;
    --warning-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 214 25% 88%;
    --input: 214 25% 88%;
    --ring: 217 91% 60%;

    --radius: 0.75rem;

    --kanban-created: 217 91% 95%;
    --kanban-progress: 45 93% 90%;
    --kanban-finished: 142 71% 90%;

    --sidebar-background: 220 20% 15%;
    --sidebar-foreground: 210 20% 90%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 15% 25%;
    --sidebar-accent-foreground: 210 20% 90%;
    --sidebar-border: 220 15% 20%;
    --sidebar-ring: 217 91% 60%;
  }

  .dark {
    --background: 220 20% 8%;
    --foreground: 210 20% 95%;

    --card: 220 15% 12%;
    --card-foreground: 210 20% 95%;

    --popover: 220 15% 12%;
    --popover-foreground: 210 20% 95%;

    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 15% 18%;
    --secondary-foreground: 210 20% 95%;

    --muted: 220 15% 15%;
    --muted-foreground: 220 10% 60%;

    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 45 93% 47%;
    --warning-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 95%;

    --border: 220 15% 20%;
    --input: 220 15% 20%;
    --ring: 217 91% 60%;

    --kanban-created: 217 50% 15%;
    --kanban-progress: 45 50% 15%;
    --kanban-finished: 142 50% 15%;

    --sidebar-background: 220 20% 10%;
    --sidebar-foreground: 210 20% 90%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 15% 18%;
    --sidebar-accent-foreground: 210 20% 90%;
    --sidebar-border: 220 15% 15%;
    --sidebar-ring: 217 91% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Prevent text size adjustment on orientation change in iOS */
    -webkit-text-size-adjust: 100%;
  }

  body {
    @apply bg-background text-foreground;
    /* Improve touch scrolling */
    -webkit-overflow-scrolling: touch;
    /* Remove tap highlight on mobile */
    -webkit-tap-highlight-color: transparent;
    /* Safe area insets for notch devices */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Improve touch targets */
  button, [role="button"], a, input, select, textarea {
    touch-action: manipulation;
  }

  /* Prevent pull-to-refresh on overscroll */
  body {
    overscroll-behavior-y: contain;
  }
}

/* React DatePicker - shadcn/ui theme */
@layer components {
  /* Container do popper */
  .react-datepicker-popper-shadcn {
    z-index: 50 !important;
  }

  /* Container principal */
  .react-datepicker-shadcn {
    @apply bg-popover text-popover-foreground border border-border rounded-lg shadow-md font-sans !important;
  }

  .react-datepicker-shadcn .react-datepicker__header {
    @apply bg-muted/30 border-b border-border rounded-t-lg pt-2 !important;
  }

  .react-datepicker-shadcn .react-datepicker__current-month {
    @apply text-sm font-medium text-foreground mb-2 !important;
  }

  .react-datepicker-shadcn .react-datepicker__day-names {
    @apply flex justify-around !important;
  }

  .react-datepicker-shadcn .react-datepicker__day-name {
    @apply text-muted-foreground text-xs font-normal w-9 h-9 flex items-center justify-center !important;
  }

  .react-datepicker-shadcn .react-datepicker__month {
    @apply m-2 !important;
  }

  .react-datepicker-shadcn .react-datepicker__week {
    @apply flex justify-around !important;
  }

  .react-datepicker-shadcn .react-datepicker__day {
    @apply w-9 h-9 flex items-center justify-center text-sm rounded-md transition-colors cursor-pointer hover:bg-accent hover:text-accent-foreground !important;
  }

  .react-datepicker-shadcn .react-datepicker__day--today {
    @apply bg-accent/20 font-semibold !important;
  }

  .react-datepicker-shadcn .react-datepicker__day--selected,
  .react-datepicker-shadcn .react-datepicker__day--keyboard-selected {
    @apply bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground !important;
  }

  .react-datepicker-shadcn .react-datepicker__day--outside-month {
    @apply text-muted-foreground opacity-50 !important;
  }

  .react-datepicker-shadcn .react-datepicker__day--disabled {
    @apply text-muted-foreground opacity-30 cursor-not-allowed hover:bg-transparent !important;
  }

  /* Navigation arrows */
  .react-datepicker-shadcn .react-datepicker__navigation {
    @apply top-2 !important;
  }

  .react-datepicker-shadcn .react-datepicker__navigation-icon::before {
    @apply border-muted-foreground !important;
  }

  .react-datepicker-shadcn .react-datepicker__navigation:hover .react-datepicker__navigation-icon::before {
    @apply border-foreground !important;
  }

  /* Year/Month dropdowns */
  .react-datepicker-shadcn .react-datepicker__year-dropdown,
  .react-datepicker-shadcn .react-datepicker__month-dropdown {
    @apply bg-popover border border-border rounded-md shadow-md !important;
  }

  .react-datepicker-shadcn .react-datepicker__year-option,
  .react-datepicker-shadcn .react-datepicker__month-option {
    @apply py-1 px-2 hover:bg-accent hover:text-accent-foreground !important;
  }

  .react-datepicker-shadcn .react-datepicker__year-option--selected,
  .react-datepicker-shadcn .react-datepicker__month-option--selected {
    @apply bg-primary text-primary-foreground !important;
  }

  /* Time picker */
  .react-datepicker-shadcn .react-datepicker__time-container {
    @apply border-l border-border !important;
  }

  .react-datepicker-shadcn .react-datepicker__time-list-item {
    @apply py-1 px-3 hover:bg-accent hover:text-accent-foreground !important;
  }

  .react-datepicker-shadcn .react-datepicker__time-list-item--selected {
    @apply bg-primary text-primary-foreground !important;
  }

  /* Triangle/Arrow */
  .react-datepicker-shadcn .react-datepicker__triangle {
    @apply hidden !important;
  }

  /* Input field styles when inline */
  .react-datepicker-shadcn .react-datepicker__input-container input {
    @apply flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 !important;
  }
}
